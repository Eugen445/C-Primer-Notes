## 13.拷贝控制

当定义一个类时,我们显式地或隐式地制定在此类型的对象拷贝,移动,赋值和销毁时做什么,一个类通过定义五种特殊的成员函数来控制这些操作,包括,拷贝构造函数,拷贝复制运算符,移动构造函数,移动赋值运算符,和析构函数

#### 1.拷贝,赋值与销毁

​	1.拷贝构造函数

​		如果一个构造函数的第一个参数是自身类类型的引用,且任何额外参数都有默认值,则构造函数是拷贝构造函数

```cpp
class Foo{
public:
   Foo();			//默认构造函数
   Foo(const Foo&);	//拷贝构造函数
};
拷贝构造函数的第一个参数必须是一个引用类型,且此参数总是一个const(虽然可以定义非const)
原因:在函数调用过程中,具有非引用类型的参数要进行拷贝初始化,如果其第一个参数不是引用类型,则调用永远不会成功,为了调用拷贝构造函数,我们必须拷贝它的实参,但为了拷贝实参,我们又需要调用拷贝构造函数,这样无限循环
```

​	2.拷贝初始化发生的情况

​		1.用=定义变量时发生

​		2.将一个对象作为实参传递给一个非引用类型的形参

​		3.从一个返回类型为非引用类型的函数返回一个对象

​		4.用花括号列表初始化一个数组中的元素或一个聚合类的成员

​	3.拷贝赋值运算符(operator=函数)

​		赋值运算符通常应该返回一个指向其左侧运算对象的引用

​	4.析构函数

​		1.析构函数不接受参数,因此它不能被重载

​		2.隐式销毁一个内置指针类型的成员不会delete它所指向的对象

​		3.什么时候会调用析构函数	

​			1.变量在离开其作用域时被销毁

​			2.当一个对象被销毁时,其成员被销毁

​			3.容器被销毁时,其元素被销毁

​			4.对于动态分配的对象,当对指向它的指针应用delete运算符时被销毁

​			5.对于临时对象,当创建它的完整表达式结束时被销毁

​		 4.当指向一个对象的引用或指针离开作用域时,析构函数不会执行

​	5.三/五原则

​		1.

​	6.使用=default

​	7.定义删除函数=delete,析构函数不能是删除的成员

​	8.private拷贝控制